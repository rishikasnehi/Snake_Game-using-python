from collections import deque

class GameBoard:
    def __init__(self, size, has_boundary) -> None:
        self.size = size
        self.has_boundary = has_boundary
        self.blocks = None # set of all the blocked cells
        self._initBlocks()
    
    def _initBlocks(self):
        self.blocks = set()
        # TODO: fill blocks with boundary cells
        for i in range(self.size):
            self.blocks.add((0, i))
            self.blocks.add((i, 0))
            self.blocks.add((self.size-1, i))
            self.blocks.add((i, self.size-1))


class Snake:
    def __init__(self) -> None:
        self.body = deque()
        self.body_cells = set()
        self.initBody() #to set snake's initial position and structure
    
    def initBody(self, row=5, col=3, size=3):
        for i in range(size):
            self.body.append((row, col+i))



class SnakeGame:
    # gameboard = GameBoard()
    # snake = Snake()
    def __init__(self) -> None:
        self.snake = Snake()
        self.board = GameBoard(10, True)
        self.score = 0
        self.food = (3,4)

    def move(self, direction:str) -> bool:
        # x, y    head = x facing right
        # Right -> x + 1, y
        # Up -> x, y + 1
        # Down -> x , y - 1;
        # Left -> no changes
        # head = self.snake.body[0]
        # if direction == 'W':
        #     self.snake.body.append(head[0], head[1] + 1)
        # elif direction == 'S':
        #     self.snake.body.append(head[0], head[1] - 1)
        # elif direction == 'D':
        #     self.snake.body.append(head[0] + 1, head[1])
        # elif direction == 'A':
        #     self.snake.body.append(head[0] - 1, head[1])
        pass

    def display(self, is_game_over:bool):
        for i in range(self.board.size):
            for j in range(self.board.size):
                if (i, j) in self.board.blocks or (i, j) in self.snake.body or (i, j) == self.food:
                    print('#', end = "")
                else:
                    print(' ',end = "")
            print()

    def play(self):
        # initialize snake, food, board
        self.display(False)
        print('Enter\nW for UP\nS for DOWN\nA for LEFT\nD for RIGHT')
        while(True):
            direction = input()
            is_game_over = self.move(direction) 
            self.display(is_game_over)
            if is_game_over:
                break

snake_game = SnakeGame()
snake_game.play()
     
